function onLocationFound(a){a.accuracy;L.marker(a.latlng,{icon:greenIcon}).addTo(map)}function onLocationError(a){alert(a.message)}var app=angular.module("MyApp",[]);app.controller("mainController",function(a){a.items=[],a.checked=[],a.addItem=function(){a.items.push({amount:a.itemAmount,name:a.itemName}),a.itemAmount="",a.itemName=""},a.toggleChecked=function(b){a.checked.push(a.items[b]),a.items.splice(b,1)},a.getTotalItems=function(){return a.items.length},a.getTotalCheckedItems=function(){return a.checked.length}}),angular.module("app",["ui.bootstrap"]).controller("DropdownCtrl",function(a,b){a.items=["The first choice!","And another choice for you.","but wait! A third!"],a.status={isopen:!1},a.toggled=function(a){b.log("Dropdown is now: ",a)},a.toggleDropdown=function(b){b.preventDefault(),b.stopPropagation(),a.status.isopen=!a.status.isopen},a.appendToEl=angular.element(document.querySelector("#dropdown-long-content"))}).controller("addRestaurant",function(a){});var map=L.map("map").locate({setView:!0,maxZoom:13}),greenIcon=L.icon({iconUrl:"c.png",iconSize:[38,38],iconAnchor:[19,38],popupAnchor:[-3,-76]});map.on("locationfound",onLocationFound),map.on("locationerror",onLocationError),L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',maxZoom:18,id:"wiigolas.p7idlkkp",accessToken:"pk.eyJ1Ijoid2lpZ29sYXMiLCJhIjoiY2lreHYxejNvMDA0NndsbTRmejl4NndqMSJ9.5hfLbJnXbAsfsPRT3V4W4Q"}).addTo(map),$.getJSON("js/restaurants.json",function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b],d="<p>Namn: "+c.name+"</p><p>Betyg: "+c.rating+"/5</p><button ng-click='count = count + 1' ng-init='count=0'>Rösta</button>";marker=new L.marker([c.lat,c["long"]]).bindPopup(d).addTo(map)}});